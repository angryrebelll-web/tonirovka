<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Propellini — Калькулятор оклейки авто</title>
    <link rel="stylesheet" href="calculator-style.css">
</head>
<body>
    <header class="header">
        <h1>Калькулятор оклейки автомобиля</h1>
    </header>
    
    <main class="container">
        <!-- Шаг 1: Выбор типа авто -->
        <section class="step-block" id="step1">
            <div class="step-header">
                <span class="step-number">1</span>
                <h2>Выберите тип автомобиля</h2>
            </div>
            <div class="type-chips-container"></div>
        </section>

        <!-- Шаг 2: Выбор марки -->
        <section class="step-block" id="step2">
            <div class="step-header">
                <span class="step-number">2</span>
                <h2>Выберите марку</h2>
            </div>
            <input type="text" id="searchBrand" placeholder="Начните вводить марку..." class="search">
            <div class="brands-scroll-container">
                <div class="brands-scroll" id="brandList"></div>
            </div>
        </section>

        <!-- Шаг 3: Выбор модели -->
        <section class="step-block" id="step3">
            <div class="step-header">
                <span class="step-number">3</span>
                <h2>Выберите модель</h2>
            </div>
            <div class="model-tiles-container" id="modelList"></div>
            <p id="selectedClass" class="info-line">Класс авто: —</p>
            <div id="classIndicator" class="class-indicator">—</div>
        </section>

        <!-- Шаг 4: Пакеты и итог -->
        <section class="step-block" id="step4">
            <div class="step-header">
                <span class="step-number">4</span>
                <h2>Выберите услуги</h2>
            </div>
            
            <!-- Пакеты услуг -->
            <div class="packages-section">
                <h3>Пакеты услуг</h3>
                <div class="package-list" id="packageList"></div>
            </div>

            <!-- Полная оклейка -->
            <div class="full-wrap-section">
                <h3>Полная оклейка кузова</h3>
                <label class="check">
                    <input type="checkbox" id="fullGloss">
                    <span>Полная оклейка глянцевой пленкой</span>
                    <span class="price" id="priceFullGloss">— ₽</span>
                </label>
                <label class="check">
                    <input type="checkbox" id="fullMatte">
                    <span>Полная оклейка матовой пленкой</span>
                    <span class="price" id="priceFullMatte">— ₽</span>
                </label>
            </div>

            <!-- Зоны риска -->
            <div class="risk-zones-section">
                <h3>Зоны риска</h3>
                <div id="riskZones"></div>
            </div>

            <!-- Итоговая стоимость -->
            <div class="total-section">
                <h3>Итоговая стоимость</h3>
                <div class="summary-info">
                    <p class="summary-line">Марка: <span id="chosenBrand">—</span></p>
                    <p class="summary-line">Модель: <span id="chosenModel">—</span></p>
                    <p class="summary-line">Класс: <span id="chosenClass">—</span></p>
                    <p class="summary-line">Пакет: <span id="chosenPackage">—</span></p>
                </div>
                <div class="final-price-container">
                    <h1 id="finalPrice">0 ₽</h1>
                </div>
                <button class="cta" id="openModal">Записаться на оклейку</button>
            </div>
        </section>
    </main>

    <!-- Модальное окно -->
    <div class="modal" id="modalForm">
        <div class="modal-content">
            <span class="close" id="closeModal">×</span>
            <h2>Оставить заявку</h2>
            <form id="requestForm">
                <label>Ваше имя:</label>
                <input type="text" id="userName" required>
                <label>Телефон:</label>
                <input type="tel" id="userPhone" required>
                <label>Комментарий:</label>
                <textarea id="userComment"></textarea>
                <h3>Выбранные услуги:</h3>
                <pre id="summaryData"></pre>
                <button type="submit" class="cta">Отправить заявку</button>
            </form>
        </div>
    </div>

    <script src="js/types.js"></script>
    <script src="js/prices.js"></script>
    <script src="js/cars.js"></script>
    <script src="js/calculator.js"></script>
</body>
</html>
