<!DOCTYPE html>
<html lang="ru">
<head>
<<<<<<< HEAD
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>PROPELLINI ‚Äì –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∞–Ω—Ç–∏–≥—Ä–∞–≤–∏–π–Ω–æ–π –ø–ª–µ–Ω–∫–∏</title>
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin />
  <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com" />
  <link rel="stylesheet" href="style.css" />
  <!-- Lazy load Three.js —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ -->
  <script>
    // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ Three.js —Å –Ω–∏–∑–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º
    window.THREE_LOADED = false;
    function loadThreeJS() {
      if (window.THREE_LOADED || typeof THREE !== 'undefined') return Promise.resolve();
      return new Promise((resolve, reject) => {
        const script = document.createElement('script');
        script.src = 'https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js';
        script.crossOrigin = 'anonymous';
        script.async = true;
        script.onload = () => { window.THREE_LOADED = true; resolve(); };
        script.onerror = reject;
        document.head.appendChild(script);
      });
    }
  </script>
</head>
<body>
  <div class="calculator">
    <!-- –®–∞–ø–∫–∞ —Å –∞–¥—Ä–µ—Å–æ–º -->
    <header class="header">
      <div class="address"><strong>–ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏—à–≤–∏–Ω–∞, –≤–ª2–ê</strong></div>
      <h1>PROPELLINI</h1>
      <p class="subtitle">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ–∫–ª–µ–π–∫–∏ –∞–Ω—Ç–∏–≥—Ä–∞–≤–∏–π–Ω–æ–π –ø–ª–µ–Ω–∫–æ–π</p>
    </header>

    <div class="calculator-content">
      <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
      <aside class="left-column">
        <!-- –í—ã–±–æ—Ä –∫–ª–∞—Å—Å–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è -->
        <section class="car-class-selection card">
          <h2>–í—ã–±—Ä–∞—Ç—å —Ç–∏–ø –∞–≤—Ç–æ</h2>
          <div class="class-options" id="classOptions">
            <button class="class-option active" data-class="small"><span class="thumb"></span><div class="class-info"><h3>–ú–∞–ª—ã–π –∫–ª–∞—Å—Å</h3></div></button>
            <button class="class-option" data-class="business"><span class="thumb"></span><div class="class-info"><h3>–ë–∏–∑–Ω–µ—Å –∫–ª–∞—Å—Å / –ö—Ä–æ—Å—Å–æ–≤–µ—Ä—ã</h3></div></button>
            <button class="class-option" data-class="suv-lux"><span class="thumb"></span><div class="class-info"><h3>–í–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫–∏ / –õ—é–∫—Å</h3></div></button>
            <button class="class-option" data-class="pickup"><span class="thumb"></span><div class="class-info"><h3>–ë–æ–ª—å—à–∏–µ –ø–∏–∫–∞–ø—ã</h3></div></button>
            <button class="class-option" data-class="bus"><span class="thumb"></span><div class="class-info"><h3>–ê–≤—Ç–æ–±—É—Å—ã / –ú–∏–Ω–∏–≤—ç–Ω—ã</h3></div></button>
          </div>
        </section>

        <!-- –í—ã–±–æ—Ä –º–∞—Ä–∫–∏ –∏ –º–æ–¥–µ–ª–∏ -->
        <section class="model-selection card">
          <h2>–í—ã–±–æ—Ä –º–∞—Ä–∫–∏ –∏ –º–æ–¥–µ–ª–∏</h2>
          <div class="search-container">
            <input type="text" id="modelSearch" placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –º–∞—Ä–∫—É –∏–ª–∏ –º–æ–¥–µ–ª—å‚Ä¶" />
            <div class="dropdown" id="modelDropdown"></div>
          </div>
          <div class="brands-chips-container">
            <h3 class="chips-title">–í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä–∫—É:</h3>
            <div class="chips-wrapper" id="brandChips"></div>
          </div>
          <div class="models-chips-container">
            <h3 class="chips-title">–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å:</h3>
            <div class="chips-wrapper" id="modelChips"></div>
          </div>
          <div class="selected-model" id="selectedModelInfo" style="display:none;">
            <span id="modelName"></span>
            <span class="model-class" id="modelClass"></span>
          </div>
        </section>
      </aside>

      <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
      <section class="right-column">
        <!-- –ó–æ–Ω—ã –æ–∫–ª–µ–π–∫–∏ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏) -->
        <section class="zones-selection card" id="zonesSelection">
          <h2>–í—ã–±—Ä–∞—Ç—å –æ–±–ª–∞—Å—Ç—å –æ–∫–ª–µ–π–∫–∏</h2>
          <!-- –ö–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–±–æ—Ä–∞ -->
          <div class="quick-buttons" style="margin-bottom: 16px; display: flex; gap: 8px; flex-wrap: wrap;">
            <button id="riskZonesBtn" class="quick-btn" style="flex: 1; min-width: 140px; padding: 10px 16px; border-radius: 10px; border: 1px solid rgba(22,132,145,.3); background: rgba(22,132,145,.1); color: var(--primary); cursor: pointer; transition: .25s; font-size: 13px; font-weight: 500;">
              –ó–æ–Ω—ã —Ä–∏—Å–∫–∞
            </button>
            <button id="clearZonesBtn" class="quick-btn" style="flex: 1; min-width: 140px; padding: 10px 16px; border-radius: 10px; border: 1px solid rgba(255,255,255,.2); background: rgba(255,255,255,.05); color: var(--text); cursor: pointer; transition: .25s; font-size: 13px; font-weight: 500;">
              –°–±—Ä–æ—Å–∏—Ç—å
            </button>
          </div>
          <!-- 3D –º–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–æ–±–∏–ª—è –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–æ–Ω -->
          <div class="car-zones-visual" id="car3dContainer" style="margin-bottom: 20px; padding: 20px; background: rgba(255,255,255,.02); border-radius: 12px; display: flex; justify-content: center; align-items: center; position: relative; min-height: 400px;">
            <div id="car3dCanvas" style="width: 100%; height: 400px; max-width: 500px; cursor: grab;"></div>
            <div style="position: absolute; top: 10px; right: 10px; padding: 8px 12px; background: rgba(0,0,0,.7); border-radius: 8px; font-size: 12px; color: #fff;">
              <span>üñ±Ô∏è –í—Ä–∞—â–∞—Ç—å | üîç –ó—É–º</span>
            </div>
          </div>
          <!-- Fallback SVG –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ -->
          <div id="carSvgFallback" style="display: none;">
            <svg viewBox="0 0 400 450" width="100%" height="auto" style="max-width: 400px; max-height: 450px;">
              <g id="interactive-zones"></g>
            </svg>
          </div>
          <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–∑ script.js -->
        </section>

        <!-- –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å -->
        <section class="total-section card">
          <div class="total-header"><h2>–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</h2></div>
          <div class="total-details">
            <div class="total-info">
              <span id="totalZones">0 –∑–æ–Ω</span>
              <span id="carClassInfo">–ö–ª–∞—Å—Å –Ω–µ –≤—ã–±—Ä–∞–Ω</span>
            </div>
            <div class="total-price"><span class="total-amount" id="totalAmount">0 ‚ÇΩ</span></div>
          </div>
          <button class="order-btn">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –æ–∫–ª–µ–π–∫—É</button>
        </section>
      </section>
    </div>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="footer">
      <nav class="footer-nav">
        <a href="#services">–£–°–õ–£–ì–ò</a>
        <a href="#reviews">–û–¢–ó–´–í–´</a>
        <a href="#works">–ù–ê–®–ò –†–ê–ë–û–¢–´</a>
        <a href="#contacts">–ö–û–ù–¢–ê–ö–¢–´</a>
      </nav>
      <p>¬© Propellini, 2025</p>
    </footer>
  </div>
  
  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–ø–∏—Å–∏ -->
  <div id="orderModal" class="order-modal" style="display: none;">
    <div class="order-modal-overlay" id="orderModalOverlay"></div>
    <div class="order-modal-content">
      <button class="order-modal-close" id="orderModalClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
      <h2>–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –æ–∫–ª–µ–π–∫—É</h2>
      <form id="orderForm" class="order-form">
        <div class="order-form-group">
          <label for="orderName">–í–∞—à–µ –∏–º—è *</label>
          <input type="text" id="orderName" name="name" required placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" />
        </div>
        <div class="order-form-group">
          <label for="orderPhone">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
          <input type="tel" id="orderPhone" name="phone" required placeholder="+7 (___) ___-__-__" />
        </div>
        <div class="order-form-group">
          <label for="orderEmail">Email</label>
          <input type="email" id="orderEmail" name="email" placeholder="email@example.com" />
        </div>
        <div class="order-form-group">
          <label for="orderCar">–ê–≤—Ç–æ–º–æ–±–∏–ª—å</label>
          <input type="text" id="orderCar" name="car" readonly placeholder="–ù–µ –≤—ã–±—Ä–∞–Ω" />
        </div>
        <div class="order-form-group">
          <label for="orderZones">–í—ã–±—Ä–∞–Ω–Ω—ã–µ –∑–æ–Ω—ã</label>
          <textarea id="orderZones" name="zones" readonly rows="3" placeholder="–ù–µ –≤—ã–±—Ä–∞–Ω—ã"></textarea>
        </div>
        <div class="order-form-group">
          <label for="orderTotal">–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</label>
          <input type="text" id="orderTotal" name="total" readonly placeholder="0 ‚ÇΩ" />
        </div>
        <div class="order-form-group">
          <label for="orderComment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
          <textarea id="orderComment" name="comment" rows="3" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"></textarea>
        </div>
        <div class="order-form-actions">
          <button type="button" class="order-btn-cancel" id="orderCancel">–û—Ç–º–µ–Ω–∞</button>
          <button type="submit" class="order-btn-submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
        </div>
      </form>
    </div>
  </div>
  
  <script src="script.js" defer></script>
  <noscript>
    <style>
      .calculator { display: none; }
      body::before {
        content: "–î–ª—è —Ä–∞–±–æ—Ç—ã –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è JavaScript. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–∫–ª—é—á–∏—Ç–µ JavaScript –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±—Ä–∞—É–∑–µ—Ä–∞.";
        display: block;
        padding: 20px;
        text-align: center;
        font-size: 16px;
      }
    </style>
  </noscript>
</body>
</html>
=======
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Propellini ‚Äî –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ–∫–ª–µ–π–∫–∏ –∞–≤—Ç–æ (Fullscreen)</title>
    <base href="https://angryrebelll-web.github.io/landpadge/">
    <link rel="stylesheet" href="calculator-fullscreen.css">
</head>
<body>
    <!-- Fullscreen Modal Overlay -->
    <div class="calculator-fullscreen" id="calculatorFullscreen">
        <div class="calculator-overlay"></div>
        
        <!-- Main Modal Container -->
        <div class="calculator-modal">
            <!-- Close Button -->
            <button class="calculator-close" id="calculatorClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>

            <!-- Modal Content -->
            <div class="calculator-content">
                <!-- Step Indicator (Desktop) -->
                <div class="calculator-steps-indicator" id="stepsIndicator">
                    <div class="step-item" data-step="1">
                        <div class="step-number">1</div>
                        <div class="step-label">–¢–∏–ø –∞–≤—Ç–æ</div>
                    </div>
                    <div class="step-item" data-step="2">
                        <div class="step-number">2</div>
                        <div class="step-label">–ú–∞—Ä–∫–∞ / –ú–æ–¥–µ–ª—å</div>
                    </div>
                    <div class="step-item" data-step="3">
                        <div class="step-number">3</div>
                        <div class="step-label">–ü–∞–∫–µ—Ç / –ó–æ–Ω—ã</div>
                    </div>
                    <div class="step-item" data-step="4">
                        <div class="step-number">4</div>
                        <div class="step-label">–ò—Ç–æ–≥</div>
                    </div>
                </div>

                <!-- Steps Container -->
                <div class="calculator-steps-container">
                    <!-- Step 1: –¢–∏–ø –∞–≤—Ç–æ -->
                    <div class="calculator-step active" data-step="1" id="step1">
                        <div class="step-header">
                            <h2 class="step-title">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∞–≤—Ç–æ–º–æ–±–∏–ª—è</h2>
                            <p class="step-subtitle">–≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –±–∞–∑–æ–≤—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å</p>
                        </div>
                        <div class="step-content">
                            <div class="chips" id="carTypeSelect">
                                <div class="chip" data-type="sedan">
                                    <div class="chip-icon">
                                        <img src="icons/sedan.svg" alt="–°–µ–¥–∞–Ω—ã" width="48" height="48">
                                    </div>
                                    <div class="chip-text">
                                        <strong>–°–µ–¥–∞–Ω—ã</strong>
                                        <span>–ú–∞–ª—ã–π, –±–∏–∑–Ω–µ—Å, –ø—Ä–µ–º–∏—É–º, –ª—é–∫—Å</span>
                                    </div>
                                </div>
                                <div class="chip" data-type="hatchback">
                                    <div class="chip-icon">
                                        <img src="icons/hatch.svg" alt="–•—ç—Ç—á–±–µ–∫–∏" width="48" height="48">
                                    </div>
                                    <div class="chip-text">
                                        <strong>–•—ç—Ç—á–±–µ–∫–∏</strong>
                                        <span>–ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∏ —Å—Ä–µ–¥–Ω–∏–µ</span>
                                    </div>
                                </div>
                                <div class="chip" data-type="suv">
                                    <div class="chip-icon">
                                        <img src="icons/suv.svg" alt="SUV / –ö—Ä–æ—Å—Å–æ–≤–µ—Ä—ã" width="48" height="48">
                                    </div>
                                    <div class="chip-text">
                                        <strong>SUV / –ö—Ä–æ—Å—Å–æ–≤–µ—Ä—ã</strong>
                                        <span>–ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ, —Å—Ä–µ–¥–Ω–∏–µ, –±–æ–ª—å—à–∏–µ, –ª—é–∫—Å</span>
                                    </div>
                                </div>
                                <div class="chip" data-type="coupe">
                                    <div class="chip-icon">
                                        <img src="icons/coupe.svg" alt="–ö—É–ø–µ / –°–ø–æ—Ä—Ç–∫–∞—Ä—ã" width="48" height="48">
                                    </div>
                                    <div class="chip-text">
                                        <strong>–ö—É–ø–µ / –°–ø–æ—Ä—Ç–∫–∞—Ä—ã</strong>
                                        <span>–°–ø–æ—Ä—Ç, —Å—É–ø–µ—Ä–∫–∞—Ä—ã, –≥–∏–ø–µ—Ä–∫–∞—Ä—ã</span>
                                    </div>
                                </div>
                                <div class="chip" data-type="pickup">
                                    <div class="chip-icon">
                                        <img src="icons/pickup.svg" alt="–ü–∏–∫–∞–ø—ã" width="48" height="48">
                                    </div>
                                    <div class="chip-text">
                                        <strong>–ü–∏–∫–∞–ø—ã</strong>
                                        <span>–ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ, —Å—Ä–µ–¥–Ω–∏–µ, –±–æ–ª—å—à–∏–µ</span>
                                    </div>
                                </div>
                                <div class="chip" data-type="minivan">
                                    <div class="chip-icon">
                                        <img src="icons/minivan.svg" alt="–ú–∏–Ω–∏–≤—ç–Ω—ã" width="48" height="48">
                                    </div>
                                    <div class="chip-text">
                                        <strong>–ú–∏–Ω–∏–≤—ç–Ω—ã</strong>
                                        <span>–ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ, –ø—Ä–µ–º–∏—É–º</span>
                                    </div>
                                </div>
                                <div class="chip" data-type="minibus">
                                    <div class="chip-icon">
                                        <img src="icons/microbus.svg" alt="–ú–∏–∫—Ä–æ–∞–≤—Ç–æ–±—É—Å—ã" width="48" height="48">
                                    </div>
                                    <div class="chip-text">
                                        <strong>–ú–∏–∫—Ä–æ–∞–≤—Ç–æ–±—É—Å—ã</strong>
                                        <span>–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–µ, –ø—Ä–µ–º–∏—É–º</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: –ú–∞—Ä–∫–∞ –∏ –ú–æ–¥–µ–ª—å -->
                    <div class="calculator-step" data-step="2" id="step2">
                        <div class="step-header">
                            <h2 class="step-title">–í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä–∫—É –∏ –º–æ–¥–µ–ª—å</h2>
                            <p class="step-subtitle">–ù–∞–π–¥–∏—Ç–µ —Å–≤–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å –≤ –±–∞–∑–µ</p>
                        </div>
                        <div class="step-content">
                            <!-- Search Brand -->
                            <div class="search-container">
                                <div class="search-wrapper">
                                    <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="11" cy="11" r="8"></circle>
                                        <path d="m21 21-4.35-4.35"></path>
                                    </svg>
                                    <input type="text" id="searchBrand" placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –º–∞—Ä–∫—É..." class="search-input">
                                    <button class="search-clear" id="searchClear" style="display: none;">√ó</button>
                                </div>
                                <div class="popular-brands" id="popularBrands">
                                    <span class="popular-label">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–∞—Ä–∫–∏:</span>
                                    <div class="popular-chips" id="popularBrandsList"></div>
                                </div>
                            </div>
                            
                            <!-- Brands List -->
                            <div class="section-block" style="margin-bottom: 30px;">
                                <h3 class="section-title">–í—Å–µ –º–∞—Ä–∫–∏</h3>
                                <div class="chips scrollable-horizontal" id="brandList"></div>
                            </div>

                            <!-- Models List (hidden, used in modal) -->
                            <div class="section-block" id="modelsSection" style="display: none;">
                                <h3 class="section-title">–ú–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–æ–±–∏–ª—è</h3>
                                <div class="chips scrollable-horizontal" id="modelList"></div>
                                <p id="selectedClass" class="info-line">–ö–ª–∞—Å—Å –∞–≤—Ç–æ: <span>‚Äî</span></p>
                            </div>
                        </div>
                    </div>

                    <!-- Step 3: –ü–∞–∫–µ—Ç—ã –∏–ª–∏ –ó–æ–Ω—ã —Ä–∏—Å–∫–∞ -->
                    <div class="calculator-step" data-step="3" id="step3">
                        <div class="step-header">
                            <h2 class="step-title">–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É</h2>
                            <p class="step-subtitle">–ü–∞–∫–µ—Ç —É—Å–ª—É–≥ –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∑–æ–Ω—ã —Ä–∏—Å–∫–∞</p>
                        </div>
                        <div class="step-content">
                            <!-- Packages -->
                            <div class="section-block">
                                <h3 class="section-title">–ü–∞–∫–µ—Ç—ã —É—Å–ª—É–≥</h3>
                                <div class="package-list" id="packageList"></div>
                            </div>

                            <!-- Additional Services -->
                            <div class="section-block" id="additionalServicesSection" style="display: none;">
                                <h3 class="section-title">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏</h3>
                                <div id="additionalServices"></div>
                            </div>

                            <!-- Risk Zones -->
                            <div class="section-block" id="riskZonesSection" style="display: none;">
                                <h3 class="section-title">–ó–æ–Ω—ã —Ä–∏—Å–∫–∞</h3>
                                <div id="riskZones"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Step 4: –ò—Ç–æ–≥ -->
                    <div class="calculator-step" data-step="4" id="step4">
                        <div class="step-header">
                            <h2 class="step-title">–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</h2>
                            <p class="step-subtitle">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —É—Å–ª—É–≥–∏</p>
                        </div>
                        <div class="step-content">
                            <div class="summary-card">
                                <div class="summary-item">
                                    <span class="summary-label">–ú–∞—Ä–∫–∞:</span>
                                    <span class="summary-value" id="summaryBrand">‚Äî</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">–ú–æ–¥–µ–ª—å:</span>
                                    <span class="summary-value" id="summaryModel">‚Äî</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">–ö–ª–∞—Å—Å:</span>
                                    <span class="summary-value" id="summaryClass">‚Äî</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">–ü–∞–∫–µ—Ç:</span>
                                    <span class="summary-value" id="summaryPackage">‚Äî</span>
                                </div>
                                <div class="summary-item" id="summaryZones" style="display: none;">
                                    <span class="summary-label">–ó–æ–Ω—ã —Ä–∏—Å–∫–∞:</span>
                                    <span class="summary-value" id="summaryZonesValue">‚Äî</span>
                                </div>
                                <div class="summary-item" id="summaryAdditionalServices" style="display: none;">
                                    <span class="summary-label">–î–æ–ø. —É—Å–ª—É–≥–∏:</span>
                                    <span class="summary-value" id="summaryAdditionalServicesValue">‚Äî</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Fixed Bottom Panel -->
            <div class="calculator-bottom-panel">
                <div class="bottom-panel-content">
                    <div class="price-display">
                        <div class="price-label">–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</div>
                        <div class="price-value" id="finalPrice">0 ‚ÇΩ</div>
                    </div>
                    <div class="bottom-actions">
                        <button class="btn-secondary" id="btnBack" style="display: none;">
                            <div class="button-outer">
                                <div class="button-inner">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="15 18 9 12 15 6"></polyline>
                                    </svg>
                                    <span>–ù–∞–∑–∞–¥</span>
                                </div>
                            </div>
                        </button>
                        <button class="btn-primary" id="btnNext">
                            <div class="button-outer">
                                <div class="button-inner">
                                    <span>–î–∞–ª–µ–µ</span>
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="9 18 15 12 9 6"></polyline>
                                    </svg>
                                </div>
                            </div>
                        </button>
                        <button class="btn-primary" id="btnBook" style="display: none;">
                            <div class="button-outer">
                                <div class="button-inner">
                                    <span>–ó–∞–ø–∏—Å–∞—Ç—å—Å—è</span>
                                </div>
                            </div>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Model Selection Modal -->
    <div class="model-modal" id="modelModal">
        <div class="model-overlay"></div>
        <div class="model-content">
            <button class="model-close" id="modelClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
            <div class="model-header">
                <h2 class="model-title">–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å</h2>
                <p class="model-subtitle" id="modelBrandName">‚Äî</p>
            </div>
            <div class="model-body">
                <div class="chips scrollable-horizontal" id="modelListModal"></div>
                <p id="selectedClassModal" class="info-line">–ö–ª–∞—Å—Å –∞–≤—Ç–æ: <span>‚Äî</span></p>
            </div>
        </div>
    </div>

    <!-- Booking Form Modal -->
    <div class="booking-modal" id="bookingModal">
        <div class="booking-overlay"></div>
        <div class="booking-content">
            <button class="booking-close" id="bookingClose">√ó</button>
            <h2>–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –æ–∫–ª–µ–π–∫—É</h2>
            <form id="requestForm">
                <div class="form-group">
                    <label>–í–∞—à–µ –∏–º—è *</label>
                    <input type="text" id="userName" required>
                </div>
                <div class="form-group">
                    <label>–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                    <input type="tel" id="userPhone" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="userEmail">
                </div>
                <div class="form-group">
                    <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
                    <textarea id="userComment" rows="4"></textarea>
                </div>
                <div class="form-summary">
                    <h3>–í—ã–±—Ä–∞–Ω–Ω—ã–µ —É—Å–ª—É–≥–∏:</h3>
                    <pre id="summaryData"></pre>
                </div>
                <button type="submit" class="btn-primary btn-submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
            </form>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/prices.js"></script>
    <script src="js/cars.js"></script>
    <script src="js/calculator-fullscreen.js"></script>
    
    <!-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤ iframe -->
    <script>
        // –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤ iframe
        const isMobile = window.innerWidth <= 768;
        const openDelay = isMobile ? 100 : 200;
        
        if (document.readyState === 'loading') {
            document.addEventListener("DOMContentLoaded", () => {
                requestAnimationFrame(() => {
                    setTimeout(openCalculator, openDelay);
                });
            });
        } else {
            requestAnimationFrame(() => {
                setTimeout(openCalculator, openDelay);
            });
        }
        
        function openCalculator() {
            const calc = document.getElementById("calculatorFullscreen");
            if (calc && !calc.classList.contains("active")) {
                if (typeof window.openCalculator === 'function') {
                    window.openCalculator();
                } else {
                    calc.classList.add("active");
                    document.body.style.overflow = "hidden";
                }
            }
        }
    </script>
</body>
</html>
>>>>>>> master
